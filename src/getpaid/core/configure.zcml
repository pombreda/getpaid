<configure xmlns="http://namespaces.zope.org/zope"
           xmlns:i18n="http://namespaces.zope.org/i18n">

  <i18n:registerTranslations directory="locales" />
  <include package=".workflow" />

  <!-- Per Order Log of Workflow Events -->
  <subscriber
     handler=".order.recordOrderWorkflow"
     for=".interfaces.IOrder
	  hurry.workflow.interfaces.IWorkflowTransitionEvent"
     />

  <!-- Fire Automatic finance state transitions -->
  <subscriber
     handler=".payment.fireAutomaticTransitions"
     for=".interfaces.IOrder
	  hurry.workflow.interfaces.IWorkflowTransitionEvent"
     />

  <!-- Payment Processor Workflow Integration -->
  <subscriber
     handler=".payment.processorWorkflowSubscriber"
     for=".interfaces.IOrder
	  hurry.workflow.interfaces.IWorkflowTransitionEvent"
     />

  <adapter
     for=".interfaces.IOrder
          .interfaces.IDefaultFinanceWorkflow"
     provides=".interfaces.IWorkflowPaymentProcessorIntegration"
     factory=".payment.DefaultFinanceProcessorIntegration"
     />


  <adapter
     for=".interfaces.IOrder"
     provides=".interfaces.IOrderWorkflowLog"
     factory=".order.OrderWorkflowLog"
     />

  <!-- Reports -->
  <adapter
	 for=".interfaces.IStore"
	 provides=".interfaces.IOrderSetReport"
	 factory=".reports.AttributeCSVSetReport"
	 name="default-csv"
	 />

  <!-- Taxes -->
  <utility
     provides=".interfaces.ITaxUtility"
     factory=".tax.TaxUtility"
     />

  <!-- Shipping -->
  <utility
     provides=".interfaces.IShippingMethod"
     factory=".shipping.ShippingMethod"
     />

</configure>
